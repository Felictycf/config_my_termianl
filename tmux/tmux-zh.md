# Tmux 配置 - 快捷键参考手册

## 概述

本文档提供了 tmux 配置中所有快捷键的完整参考。

- **前缀键**: `Ctrl-t` (已从默认的 `Ctrl-b` 修改)
- **窗口/窗格索引**: 从 1 开始 (而非 0)
- **模式**: 启用 Vi 键位绑定

---

## 通用命令

| 快捷键 | 描述 |
|--------|------|
| `前缀 + r` | 重新加载 tmux 配置 |
| `前缀 + o` | 在访达中打开当前目录 (macOS) |
| `前缀 + e` | 关闭除当前窗格外的所有窗格 |
| `前缀 + g` | 在弹出窗口中打开 lazygit (80% 宽高) |

---

## 窗口 (标签页) 管理

### 切换窗口

| 快捷键 | 描述 |
|--------|------|
| `前缀 + 1` | 切换到窗口 1 (第一个窗口) |
| `前缀 + 2` | 切换到窗口 2 |
| `前缀 + 3` | 切换到窗口 3 |
| `前缀 + ...` | 切换到窗口 N |
| `前缀 + n` | 下一个窗口 |
| `前缀 + p` | 上一个窗口 |
| `前缀 + l` | 最近使用的窗口 |
| `前缀 + w` | 列出所有窗口 (交互式) |

### 创建/关闭窗口

| 快捷键 | 描述 |
|--------|------|
| `前缀 + c` | 创建新窗口 |
| `前缀 + &` | 关闭当前窗口 (需确认) |
| `前缀 + ,` | 重命名当前窗口 |

### 移动窗口

| 快捷键 | 描述 |
|--------|------|
| `Ctrl-Shift-左箭头` | 将窗口与左边的窗口交换 |
| `Ctrl-Shift-右箭头` | 将窗口与右边的窗口交换 |

---

## 窗格管理

### 分割窗格 (tmux-pain-control 插件)

| 快捷键 | 描述 |
|--------|------|
| `前缀 + \|` | 水平分割窗格 (左右并排) |
| `前缀 + -` | 垂直分割窗格 (上下排列) |
| `前缀 + _` | 垂直分割窗格 (全宽) |
| `前缀 + \` | 水平分割窗格 (全高) |

### 窗格导航 (tmux-pain-control 插件)

| 快捷键 | 描述 |
|--------|------|
| `前缀 + h` | 移动到左边窗格 |
| `前缀 + j` | 移动到下方窗格 |
| `前缀 + k` | 移动到上方窗格 |
| `前缀 + l` | 移动到右边窗格 |

### 调整窗格大小 (tmux-pain-control 插件)

| 快捷键 | 描述 |
|--------|------|
| `前缀 + H` | 向左调整窗格大小 |
| `前缀 + J` | 向下调整窗格大小 |
| `前缀 + K` | 向上调整窗格大小 |
| `前缀 + L` | 向右调整窗格大小 |

### 其他窗格操作

| 快捷键 | 描述 |
|--------|------|
| `前缀 + x` | 关闭当前窗格 (需确认) |
| `前缀 + z` | 切换窗格缩放 (全屏) |
| `前缀 + q` | 显示窗格编号 |
| `前缀 + {` | 与上一个窗格交换 |
| `前缀 + }` | 与下一个窗格交换 |
| `前缀 + 空格` | 循环切换窗格布局 |
| `前缀 + !` | 将窗格转换为新窗口 |

---

## 复制模式 (Vi 键位)

使用 `前缀 + [` 进入复制模式

### 复制模式中的导航

| 快捷键 | 描述 |
|--------|------|
| `h` | 光标左移 |
| `j` | 光标下移 |
| `k` | 光标上移 |
| `l` | 光标右移 |
| `w` | 向前移动一个单词 |
| `b` | 向后移动一个单词 |
| `0` | 移动到行首 |
| `$` | 移动到行尾 |
| `g` | 跳转到缓冲区顶部 |
| `G` | 跳转到缓冲区底部 |
| `Ctrl-u` | 向上翻页 |
| `Ctrl-d` | 向下翻页 |
| `/` | 向前搜索 |
| `?` | 向后搜索 |
| `n` | 下一个搜索匹配 |
| `N` | 上一个搜索匹配 |

### 选择和复制

| 快捷键 | 描述 |
|--------|------|
| `空格` | 开始选择 |
| `v` | 开始选择 (可视模式) |
| `回车` | 复制选择内容并退出复制模式 |
| `y` | 复制选择内容 |
| `Escape` | 清除选择 |
| `q` | 退出复制模式 |

### 粘贴

| 快捷键 | 描述 |
|--------|------|
| `前缀 + ]` | 从 tmux 缓冲区粘贴 |

---

## 会话管理

| 快捷键 | 描述 |
|--------|------|
| `前缀 + d` | 分离会话 |
| `前缀 + s` | 列出/切换会话 |
| `前缀 + $` | 重命名当前会话 |
| `前缀 + (` | 切换到上一个会话 |
| `前缀 + )` | 切换到下一个会话 |

---

## 其他

| 快捷键 | 描述 |
|--------|------|
| `前缀 + t` | 显示时钟 |
| `前缀 + ?` | 列出所有键位绑定 |
| `前缀 + :` | 进入命令模式 |
| `前缀 + ~` | 显示之前的 tmux 消息 |

---

## 状态栏信息

状态栏显示内容:

- **左侧**: `会话:窗口.窗格` | 用户名
- **中间**: 窗口列表及当前路径
- **右侧**: 主机名

---

## 配置文件

| 文件 | 用途 |
|------|------|
| `tmux.conf` | 主配置文件 |
| `macos.conf` | macOS 特定设置 (剪贴板、下划线样式) |
| `theme.conf` | 配色方案 (Solarized) |
| `statusline.conf` | 状态栏布局和样式 |
| `utility.conf` | 实用工具快捷键 (lazygit) |

---

## 插件

- **tpm**: Tmux 插件管理器
- **tmux-pain-control**: 窗格导航和管理

---

## 速查卡片

```
前缀 = Ctrl-t

窗口:             窗格:               其他:
c - 新建          | - 水平分割        r - 重载配置
1-9 - 切换        - - 垂直分割        g - lazygit
n/p - 前/后       h/j/k/l - 导航      [ - 复制模式
& - 关闭          H/J/K/L - 调整大小  d - 分comprehensive离
, - 重命名        x - 关闭            ? - 帮助
                  z - 缩放
```

---

*生成自 `~/.config/tmux/` 配置文件*
